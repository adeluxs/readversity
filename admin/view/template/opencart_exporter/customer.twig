{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
		<div class="pull-right">
			<a href="https://www.opencart.com/index.php?route=marketplace/extension/info&extension_id=38587" target="_blank" data-toggle="tooltip" title="{{ text_buy_proversion }}" class="btn btn-warning">{{ text_buy_proversion }}</a>
		</div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>
    </div>
</div>
<div class="container-fluid">
	{% if error_warning %}
	<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
		<button type="button" class="close" data-dismiss="alert">&times;</button>
	</div>
	{% endif %}	
    <div class="panel panel-default beforenotice">
		<div class="panel-heading">
			<h3 class="panel-title"><i class="fa fa-download"></i> {{ text_list }}</h3>
		</div>
      	<div class="panel-body" id="form-customer-export">
      		<ul class="nav nav-tabs">
            <li class="active"><a href="#tab_customer" data-toggle="tab">{{ tab_customer }}</a></li>
            </ul>
            <div class="tab-content">
	            <div class="tab-pane active" id="tab_customer">
					{# <a id="customerpdf" href="{{ customerpdf }}">Download</a>#}
					<div class="row">
						<div class="col-sm-12">
							<div class="well">
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-customerid"><span data-toggle="tooltip" title="{{ help_customer_id }}">{{ entry_customer_id }}{{ entry_go_to_pro }}</span></label>
											<input type="text" name="find_customer_id" value="" placeholder="{{ entry_customer_id }}" id="input-customerid" class="form-control" />
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-customer-group">{{ entry_customer_group }}{{ entry_go_to_pro }}</label>
											<select name="find_customer_group" class="form-control selectpicker show-tick">
												<option value="">{{ text_all }}</option>
												{% for customer_group in customer_groups %}
												<option value="{{ customer_group['customer_group_id'] }}">{{ customer_group['name'] }}</option>
												{% endfor %}
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-status">{{ entry_status }}</label>
											<select name="find_status" id="input-status" class="form-control selectpicker show-tick">
												<option value="">{{ text_all }}</option>
												<option value="1">{{ text_enabled }}</option>
												<option value="0">{{ text_disabled }}</option>
											</select>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-approved">{{ entry_approved }}{{ entry_go_to_pro }}</label>
											<select name="find_approved" id="input-approved" class="form-control selectpicker show-tick">
												<option value="">{{ text_all }}</option>
												<option value="1">{{ text_yes }}</option>
												<option value="0">{{ text_no }}</option>
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-newsletter">{{ entry_newsletter }}{{ entry_go_to_pro }}</label>
											<select name="find_newsletter" id="input-newsletter" class="form-control selectpicker show-tick">
												<option value="">{{ text_all }}</option>
												<option value="1">{{ text_enabled }}</option>
												<option value="0">{{ text_disabled }}</option>
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-date-start">{{ entry_date_start }}{{ entry_go_to_pro }}</label>
											<input type="text" name="find_date_start" placeholder="{{ entry_date_start }}" id="input-date-start" data-date-format="YYYY-MM-DD" class=" datetime form-control" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-date-end">{{ entry_date_end }}{{ entry_go_to_pro }}</label>
											<input type="text" name="find_date_end" placeholder="{{ entry_date_end }}" id="input-date-end" data-date-format="YYYY-MM-DD" class=" datetime form-control" />
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-limit-start"><span data-toggle="tooltip" title="{{ help_customer_limit }}">{{ entry_limit_start }}{{ entry_go_to_pro }}</span></label>
											<input type="text" name="find_limit_start" value="0" placeholder="{{ entry_limit_start }}" id="input-limit-start" class="form-control" />
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-limit-end"><span data-toggle="tooltip" title="{{ help_customer_limit }}">{{ entry_limit_end }}{{ entry_go_to_pro }}</span></label>
											<input type="text" name="find_limit_end" value="500" placeholder="{{ entry_limit_end }}" id="input-limit-end" class="form-control" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-store">{{ entry_store }}{{ entry_go_to_pro }}</label>
											<select name="find_store_id" id="input-store" class="form-control selectpicker show-tick">
												<option value="">{{ text_all }}</option>
												<option value="0">{{ text_default }}</option>
												{% for store in stores %}
												{% if store.store_id == store_id %}
												<option value="{{ store.store_id }}" selected="selected">{{ store.name }}</option>
												{% else %}
												<option value="{{ store.store_id }}">{{ store.name }}</option>
												{% endif %}
												{% endfor %}
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-store">{{ entry_sort }}{{ entry_go_to_pro }}</label>
											<select name="find_sort" id="input-sort" class="form-control selectpicker show-tick">
												<option value="name">{{ text_customer_name }}</option>
												<option value="c.email">{{ text_customer_email }}</option>
												<option value="c.customer_id">{{ text_customer_id }}</option>
												<option value="customer_group">{{ text_customer_group }}</option>
												<option value="c.ip">{{ text_customer_ip }}</option>
												<option value="c.status">{{ text_customer_status }}</option>
												<option value="c.approved">{{ text_customer_approved }}</option>
												<option value="c.newsletter">{{ text_customer_newsletter }}</option>
												<option value="c.date_added">{{ text_date_added }}</option>
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-group">
											<label class="control-label" for="input-store">{{ entry_order }}{{ entry_go_to_pro }}</label>
											<select name="find_order" id="input-order" class="form-control selectpicker show-tick">
												<option value="ASC">{{ text_asc }}</option>
												<option value="DESC">{{ text_desc }}</option>
											</select>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-7">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title"><i class="fa fa-user"></i>{{ entry_customer_fields }}</h3>{{ entry_go_to_pro }}
								</div>
								<div class="panel-body">
									<div class="form-group last-group">
										<label class="col-sm-3 control-label" for="input-customeraddress"><span data-toggle="tooltip" title="{{ help_customeraddress }}">{{ entry_customeraddress }}</span></label>
										<label class="switch">
											{% if find_customeraddress %}
											<input type="checkbox" name="find_customeraddress" value="1" class="primary" checked="checked" id="input-find_customeraddress" />
											{% else %}
											<input type="checkbox" name="find_customeraddress" value="1" class="primary" id="input-find_customeraddress" />
											{% endif %}
											<span class="slider round"></span>
										</label>
									</div>
									<div class="form-group last-group">
										<label class="col-sm-3 control-label" for="input-customerhistory"><span data-toggle="tooltip" title="{{ help_customerhistory }}">{{ entry_customerhistory }}</span></label>
										<label class="switch">
											{% if find_customerhistory %}
											<input type="checkbox" name="find_customerhistory" value="1" class="primary" checked="checked" id="input-customerhistory" />
											{% else %}
											<input type="checkbox" name="find_customerhistory" value="1" class="primary" id="input-customerhistory" />
											{% endif %}
											<span class="slider round"></span>
										</label>
									</div>
									<div class="form-group last-group">
										<label class="col-sm-3 control-label" for="input-customerreward"><span data-toggle="tooltip" title="{{ help_customerreward }}">{{ entry_customerreward }}</span></label>
										<label class="switch">
											{% if find_customerreward %}
											<input type="checkbox" name="find_customerreward" value="1" class="primary" checked="checked" id="input-customerreward" />
											{% else %}
											<input type="checkbox" name="find_customerreward" value="1" class="primary" id="input-customerreward" />
											{% endif %}
											<span class="slider round"></span>
										</label>
									</div>
									<div class="form-group last-group">
										<label class="col-sm-3 control-label" for="input-customertransaction"><span data-toggle="tooltip" title="{{ help_customertransaction }}">{{ entry_customertransaction }}</span></label>
										<label class="switch">
											{% if find_customertransaction %}
											<input type="checkbox" name="find_customertransaction" value="1" class="primary" checked="checked" id="input-customertransaction" />
											{% else %}
											<input type="checkbox" name="find_customertransaction" value="1" class="primary" id="input-customertransaction" />
											{% endif %}
											<span class="slider round"></span>
										</label>
									</div>
									<div class="form-group last-group">
										<label class="col-sm-3 control-label" for="input-customfields"><span data-toggle="tooltip" title="{{ help_customfields }}">{{ entry_customfields }}</span></label>
										<label class="switch">
											{% if find_customfields %}
											<input type="checkbox" name="find_customfields" value="1" class="primary" checked="checked" id="input-customfields" />
											{% else %}
											<input type="checkbox" name="find_customfields" value="1" class="primary" id="input-customfields" />
											{% endif %}
											<span class="slider round"></span>
										</label>
									</div>
								</div>
							</div>
						</div>
						{% if extrafields %}
						<div class="col-sm-5">
							{% for extrafield in extrafields %}
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title"><label class="control-label"><span data-toggle="tooltip" title="{{ help_extra_field }}"><i class="fa fa-list"></i>{{ entry_extra_field }}{{ entry_go_to_pro }}</span></label></h3>
								</div>
								<div class="panel-body">
									{% set okfields = extrafield.fields %}
									{% for extrafield_name in okfields|batch(2) %}
									<div class="form-group">
										{% for extrafield_values in extrafield_name %}
											<label class="radio-inline">
												<input type="checkbox" name="find_extrafields[]" value="{{ extrafield['tablename'] }}::{{ extrafield_values }}" />
												<span class='btn'>{{ extrafield_values }}</span>
											</label>
										{% endfor %}
									</div>
									{% endfor %}
								</div>
							</div>
							{% endfor %}
						</div>
						{% endif %}
						<div class="col-sm-5">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title"><label class="control-label"><span data-toggle="tooltip" title="{{ help_format }}"><i class="fa fa-file-o"></i>{{ entry_format }}{{ entry_go_to_pro }}</span></label></h3>
								</div>
								<div class="panel-body">
									<div class="form-group last-group">
										<div class="alert alert-info" role="alert">{{ info_format }}</div>
										<div class="switch-buttons">
											<div id="input-format" class="btns">
												<label class="radio-inline">
													<input type="radio" name="find_format" value="xls" checked="checked" />
													<span class='btn first'>{{ text_xls }}</span>
												</label>
												<label class="radio-inline">
													<input type="radio" name="find_format" value="xlsx" />
													<span class='btn'>{{ text_xlsx }}</span>
												</label>
												<label class="radio-inline">
													<input type="radio" name="find_format" value="csv" />
													<span class='btn last'>{{ text_csv }}</span>
												</label>
												<label class="radio-inline">
													<input type="radio" name="find_format" value="xml" />
													<span class='btn last'>{{ text_xml }}</span>
												</label>
											</div>
										</div>
									</div>
									<div class="buttons exports">
										<button type="button" class="btn btn-success btn-block" id="exporter-customer"><i class="fa fa-download" aria-hidden="true"></i> {{ button_export }}</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
      	</div>
    </div>
</div>
<div class="ishiloader"></div>
<script src="view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<link href="view/javascript/jquery/datetimepicker/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet" media="screen" />
<script type="text/javascript"><!--
$('#siteloader').fadeOut();
$('#spin-wrapper').fadeOut();
// Exporter Customer
$('#exporter-customer').on('click', function() {
var find_format = $('input[name=\'find_format\']:checked').val();
if(find_format == 'csv'){
	$.ajax({
		url: 'index.php?route=opencart_exporter/customer/export&user_token={{ user_token }}',
		type: 'post',
		data: $('#form-customer-export input[type=\'hidden\'], #form-customer-export select'),
		dataType: 'json',
		beforeSend: function() {
			$('.alert-danger, .alert-success').remove();			
			$('#exporter-customer').button('loading');
			$('.ishiloader').after('<div class="ishiloader_loader"><div id="spin-wrapper"></div><div id="siteloader"><div class="loader loader-1"></div></div></div>');
		},
		complete: function() {
			$('#exporter-customer').button('reset');
			$('.ishiloader_loader').remove();
		},
		success: function(json) {
			if(json['error']) {
				$('.beforenotice').before('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+ json['error'] +' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');
				
				$('html, body').animate({ scrollTop: 0 }, 'slow');
			}
			
			if(json['href']) {
				window.location = json['href'];
			}
		},
		error: function(xhr, ajaxOptions, thrownError) {
			if(xhr.responseText) {
				$('.beforenotice').before('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+ xhr.responseText +' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');
			}
		}
	});
	}else{
		alert('available in pro version');
	}
});

// Date
$('.datetime').datetimepicker({
		language: '{{datepicker}}',
		pickDate: true
	});
//--></script>
</div>
{{ footer }}